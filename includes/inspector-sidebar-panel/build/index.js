(()=>{"use strict";const e=window.wp.element,t=window.wp.plugins,r=window.wp.editor,n=window.wp.coreData,i=window.wp.data,s=window.wp.i18n,o=window.wp.components,l=window.React,a=window.ReactJSXRuntime;function c({kickerSlug:t,onChange:r=()=>{}}){const{siteUrl:i}=window.prcPlatform,c=i?`${i}/wp-admin/site-editor.php?path=%2Fpatterns&categoryType=wp_template_part&categoryId=kicker`:"",{kickerOptions:u,hasKickers:d,selectedKickerAndExists:p}=function({kickerSlug:e,setKickerSlug:t=()=>{}}){const{hasResolved:r,records:i}=(0,n.useEntityRecords)("postType","wp_template_part",{per_page:-1}),s=(0,l.useMemo)(()=>{if(!i||!i.length)return[];const t=i.find(t=>t.slug===e);return t?[{label:t.title.rendered,value:t.slug}]:i.filter(e=>"kicker"===e.area||e.title.rendered.includes("kicker")).map(e=>({label:e.title.rendered,value:e.slug}))},[e,i]),o=(0,l.useMemo)(()=>s.length>0,[s]),a=(0,l.useMemo)(()=>e&&s?.length&&s.some(t=>t.value===e),[e,s]),c=(0,l.useMemo)(()=>{if(!(e&&r&&i&&i.length))return;const t=r&&i&&i.find(t=>t.slug===e);return t.theme&&t.slug?`${t.theme}//${t.slug}`:void 0},[e,r,i]);return console.log("useKickerTemplatePart",s,o,a,i,c),{kickerOptions:s,hasKickers:o,selectedKickerAndExists:a,kickerId:c,setKickerSlug:t}}({kickerSlug:t,setKickerSlug:e=>r(e)}),k=(0,a.jsx)(o.Notice,{status:"warning",isDismissible:!1,children:(0,e.createInterpolateElement)((0,s.__)("No kicker templates could be found. Create a new one in the <a>Site Editor</a>.","kicker-control"),{a:(0,a.jsx)("a",{href:c,target:"_blank",rel:"noreferrer"})})}),g=(0,a.jsx)(o.Notice,{status:"warning",isDismissible:!1,children:(0,s.__)("The selected kicker template no longer exists. Choose another.","kicker-control")});return(0,a.jsxs)(e.Fragment,{children:[(0,a.jsx)(o.ComboboxControl,{label:(0,s.__)("Kicker Template","kicker-control"),value:t,options:u,onChange:r,help:d&&(0,e.createInterpolateElement)((0,s.__)('Design and customize kicker templates in the <a>Site Editor</a>. A "kicker" or otherwise known as a "bug" is a visual design element that combines a distinctive icon with styled text, serving as a navigational shortcut to collection pages. These elements help readers quickly identify and access themed content collections across the site.',"kicker-control"),{a:(0,a.jsx)("a",{href:c,target:"_blank",rel:"noreferrer"})})}),!d&&k,d&&!p&&g]})}const u="prc-platform--collections";(0,t.registerPlugin)(u,{render:function(){const{postType:t,parentId:s}=(0,i.useSelect)(e=>{const t=e(r.store).getEditedPostAttribute("post_parent"),n=e(r.store).getCurrentPostType(),i=e(r.store).getCurrentPostId();return{postType:n,postId:i,parentId:0!==t?t:i,isChildPost:0!==t}},[]),[o,l]=(0,n.useEntityProp)("postType",t,"meta",s),d=(0,e.useMemo)(()=>o.kicker_pattern_slug,[o]);return(0,a.jsx)(r.PluginDocumentSettingPanel,{name:u,title:"Collection Kicker",children:(0,a.jsx)(c,{kickerSlug:d,onChange:e=>{return t=e,l({...o,kicker_pattern_slug:t});var t}})})}})})();
//# sourceMappingURL=index.js.map